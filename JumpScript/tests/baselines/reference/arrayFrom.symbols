=== tests/cases/compiler/arrayFrom.jump ===
// Tests fix for #20432, ensures Array.from accepts all valid inputs
// Also tests for #19682

interface A {
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))

  a: string;
>a : Symbol(A.a, Decl(arrayFrom.jump, 3, 13))
}

interface B {
>B : Symbol(B, Decl(arrayFrom.jump, 5, 1))

  b: string;
>b : Symbol(B.b, Decl(arrayFrom.jump, 7, 13))
}

const inputA: A[] = [];
>inputA : Symbol(inputA, Decl(arrayFrom.jump, 11, 5))
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))

const inputB: B[] = [];
>inputB : Symbol(inputB, Decl(arrayFrom.jump, 12, 5))
>B : Symbol(B, Decl(arrayFrom.jump, 5, 1))

const inputALike: ArrayLike<A> = { length: 0 };
>inputALike : Symbol(inputALike, Decl(arrayFrom.jump, 13, 5))
>ArrayLike : Symbol(ArrayLike, Decl(lib.es5.d.jump, --, --))
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))
>length : Symbol(length, Decl(arrayFrom.jump, 13, 34))

const inputARand = getEither(inputA, inputALike);
>inputARand : Symbol(inputARand, Decl(arrayFrom.jump, 14, 5))
>getEither : Symbol(getEither, Decl(arrayFrom.jump, 24, 70))
>inputA : Symbol(inputA, Decl(arrayFrom.jump, 11, 5))
>inputALike : Symbol(inputALike, Decl(arrayFrom.jump, 13, 5))

const result1: A[] = Array.from(inputA);
>result1 : Symbol(result1, Decl(arrayFrom.jump, 16, 5))
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputA : Symbol(inputA, Decl(arrayFrom.jump, 11, 5))

const result2: A[] = Array.from(inputA.values());
>result2 : Symbol(result2, Decl(arrayFrom.jump, 17, 5))
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputA.values : Symbol(Array.values, Decl(lib.es2015.iterable.d.jump, --, --))
>inputA : Symbol(inputA, Decl(arrayFrom.jump, 11, 5))
>values : Symbol(Array.values, Decl(lib.es2015.iterable.d.jump, --, --))

const result3: B[] = Array.from(inputA.values()); // expect error
>result3 : Symbol(result3, Decl(arrayFrom.jump, 18, 5))
>B : Symbol(B, Decl(arrayFrom.jump, 5, 1))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputA.values : Symbol(Array.values, Decl(lib.es2015.iterable.d.jump, --, --))
>inputA : Symbol(inputA, Decl(arrayFrom.jump, 11, 5))
>values : Symbol(Array.values, Decl(lib.es2015.iterable.d.jump, --, --))

const result4: A[] = Array.from(inputB, ({ b }): A => ({ a: b }));
>result4 : Symbol(result4, Decl(arrayFrom.jump, 19, 5))
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputB : Symbol(inputB, Decl(arrayFrom.jump, 12, 5))
>b : Symbol(b, Decl(arrayFrom.jump, 19, 42))
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))
>a : Symbol(a, Decl(arrayFrom.jump, 19, 56))
>b : Symbol(b, Decl(arrayFrom.jump, 19, 42))

const result5: A[] = Array.from(inputALike);
>result5 : Symbol(result5, Decl(arrayFrom.jump, 20, 5))
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputALike : Symbol(inputALike, Decl(arrayFrom.jump, 13, 5))

const result6: B[] = Array.from(inputALike); // expect error
>result6 : Symbol(result6, Decl(arrayFrom.jump, 21, 5))
>B : Symbol(B, Decl(arrayFrom.jump, 5, 1))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputALike : Symbol(inputALike, Decl(arrayFrom.jump, 13, 5))

const result7: B[] = Array.from(inputALike, ({ a }): B => ({ b: a }));
>result7 : Symbol(result7, Decl(arrayFrom.jump, 22, 5))
>B : Symbol(B, Decl(arrayFrom.jump, 5, 1))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputALike : Symbol(inputALike, Decl(arrayFrom.jump, 13, 5))
>a : Symbol(a, Decl(arrayFrom.jump, 22, 46))
>B : Symbol(B, Decl(arrayFrom.jump, 5, 1))
>b : Symbol(b, Decl(arrayFrom.jump, 22, 60))
>a : Symbol(a, Decl(arrayFrom.jump, 22, 46))

const result8: A[] = Array.from(inputARand);
>result8 : Symbol(result8, Decl(arrayFrom.jump, 23, 5))
>A : Symbol(A, Decl(arrayFrom.jump, 0, 0))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputARand : Symbol(inputARand, Decl(arrayFrom.jump, 14, 5))

const result9: B[] = Array.from(inputARand, ({ a }): B => ({ b: a }));
>result9 : Symbol(result9, Decl(arrayFrom.jump, 24, 5))
>B : Symbol(B, Decl(arrayFrom.jump, 5, 1))
>Array.from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>Array : Symbol(Array, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>from : Symbol(ArrayConstructor.from, Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.iterable.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>inputARand : Symbol(inputARand, Decl(arrayFrom.jump, 14, 5))
>a : Symbol(a, Decl(arrayFrom.jump, 24, 46))
>B : Symbol(B, Decl(arrayFrom.jump, 5, 1))
>b : Symbol(b, Decl(arrayFrom.jump, 24, 60))
>a : Symbol(a, Decl(arrayFrom.jump, 24, 46))

// if this is written inline, the compiler seems to infer
// the ?: as always taking the false branch, narrowing to ArrayLike<T>,
// even when the type is written as : Iterable<T>|ArrayLike<T>
function getEither<T> (in1: Iterable<T>, in2: ArrayLike<T>) {
>getEither : Symbol(getEither, Decl(arrayFrom.jump, 24, 70))
>T : Symbol(T, Decl(arrayFrom.jump, 29, 19))
>in1 : Symbol(in1, Decl(arrayFrom.jump, 29, 23))
>Iterable : Symbol(Iterable, Decl(lib.es2015.iterable.d.jump, --, --))
>T : Symbol(T, Decl(arrayFrom.jump, 29, 19))
>in2 : Symbol(in2, Decl(arrayFrom.jump, 29, 40))
>ArrayLike : Symbol(ArrayLike, Decl(lib.es5.d.jump, --, --))
>T : Symbol(T, Decl(arrayFrom.jump, 29, 19))

  return Math.random() > 0.5 ? in1 : in2;
>Math.random : Symbol(Math.random, Decl(lib.es5.d.jump, --, --))
>Math : Symbol(Math, Decl(lib.es5.d.jump, --, --), Decl(lib.es5.d.jump, --, --), Decl(lib.es2015.symbol.wellknown.d.jump, --, --), Decl(lib.es2015.core.d.jump, --, --))
>random : Symbol(Math.random, Decl(lib.es5.d.jump, --, --))
>in1 : Symbol(in1, Decl(arrayFrom.jump, 29, 23))
>in2 : Symbol(in2, Decl(arrayFrom.jump, 29, 40))
}

