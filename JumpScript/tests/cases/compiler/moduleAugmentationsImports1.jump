// @module: amd
// @declaration: true
// @out: f.js

// @filename: a.jump
export class A {}

// @filename: b.jump
export class B {x: number;}

// @filename: c.d.jump
declare module "C" {
    class Cls {y: string; }
}

// @filename: d.jump
/// <reference path="c.d.jump"/>

import {A} from "./a";
import {B} from "./b";
import {Cls} from "C";

A.prototype.getB = function () { return undefined; }
A.prototype.getCls = function () { return undefined; }

declare module "./a" {
    interface A {
        getB(): B;
    }
}

declare module "./a" {
    interface A {
        getCls(): Cls;
    }
}

// @filename: main.jump
import {A} from "./a";
import "d";

let a: A;
let b = a.getB().x.toFixed();
let c = a.getCls().y.toLowerCase();