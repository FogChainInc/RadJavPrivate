var win = new RadJav.GUI.Window ("win", "Window Example");

// Stupid hack for now. Delete in the future. Should throw errors in HTML5.
win.create ().then (function (win2)
	{
	});

try
{

    var kg = new RadJav.Crypto.KeyGenerator({cryptoLibrary: "OpenSSL",
					     algorithm: "RSA",
					     bits: "2048",
					     encryptPadding: "RSA_PKCS1_PADDING",
					     signatureType: "OPENSSL_DEFAULT",
					     inputEncoding: "binary",
					     outputEncoding: "base64"
					    });


    /*
    RadJav.Console.println("------------------> new");
    var pk = new RadJav.Crypto.PrivateKey({cryptoLibrary: "OpenSSL",
					   keyAlgorithm: "RSA",
					   outputEncoding: "base64",
					   pemFile: "MyKey.pem"
					  });
    RadJav.Console.println("Out: " + pk.sign("ala"));
    RadJav.Console.println("Out: " + pk.encrypt("jola"));
    */

    var text = "1234567890";
    RadJav.Console.println("------------------> generate");
    RadJav.Console.println("Out: " + kg.generate());


    RadJav.Console.println("------------------> generate");
    var pk1 = kg.generate();
    RadJav.Console.println("Signature: " + pk1.signSync(text));
    RadJav.Console.println("Encrypted: " + pk1.encryptSync(text));

    pk1.encrypt(text).then( function (data)
			       {
				   alert("Done!\nAlg: " + pk1.algorithm + "\n" + data);
			       });

}
catch (error)
{
    RadJav.Console.println(error);
}
