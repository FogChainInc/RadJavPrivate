RadJav.initialize (RadJav.getStandardLibrary (), RadJav.getGUILibrary ()).then (function ()
	{
		RadJav.runApplication (function ()
			{
				var win = new RadJav.GUI.Window ("win", "Chat");
				win.create ().then (function (win2)
					{
						var gotData = function (data)
							{
								var json = JSON.parse (data);
								RadJav.GUI.createObjects (json, win2).then (
									function (objs)
									{
										for (var iIdx = 0; iIdx < objs.length; iIdx++)
										{
											var obj = objs[iIdx];

											var list;
											var textarea;

											if (obj.name == "online")
											{ list = obj; }
											
											if (obj.name == "chatarea")
											{ 
												textarea = obj;

												textarea.on("onText", function()
															{
																var row = new RadJav.GUI.List.Row ();
																row.addItem ("T1: onText");
																list.addRow (row);
															});

												textarea.on("onTextEnter", function()
															{
																var row = new RadJav.GUI.List.Row ();
																row.addItem ("T1: onTextEnter");
																list.addRow (row);
															});
												
											}
											

											if (obj.name == "textbox1")
											{
												obj.on("onText", function()
													   {
														   var row = new RadJav.GUI.List.Row ();
														   row.addItem ("T2: onText");
														   list.addRow (row);
													   });

												obj.on("onTextEnter", function()
													   {
														   var row = new RadJav.GUI.List.Row ();
														   row.addItem ("T2: onTextEnter");
														   list.addRow (row);
													   });
												
											}

											if (obj.name == "radio1")
											{
												obj.on("change", function()
													   {
														   var row = new RadJav.GUI.List.Row ();
														   row.addItem ("R1: change");
														   list.addRow (row);
													   });
											}

											if (obj.name == "t1label")
											{
												obj.on("click", function()
													   {
														   var row = new RadJav.GUI.List.Row ();
														   row.addItem ("T1L: click");
														   list.addRow (row);
													   });
											}
											
											
										}
									});
							};

						if (RadJav.OS.HTML5 != null)
							RadJav.Net.httpRequest ("./test2.json").then (gotData);

						else
						{
							var data = RadJav.IO.TextFile.readEntireFile ("./test2.json");
							gotData (data);
						}
					});
			});
	});
