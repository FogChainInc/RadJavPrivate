function displayMembers(obj, label) {
    
    let members = [];
    for (let m in obj) {
	members.push(m);
    }
    alert(label + ": " + members.join(","));
}

RadJav.initialize (RadJav.getStandardLibrary (), RadJav.getGUILibrary ()).then
(function ()
 {
     RadJav.runApplication (function ()
			    {
				var win = new RadJav.GUI.Window ({
				    name: "win",
				    text: "test2",
				    size: "1200, 1000"
				});
				win.create ().then (function (win2)
						    {
							var gotData = function (data)
							{
							    var json = JSON.parse (data);
							    RadJav.GUI.createObjects (json, win2).then (
								function (objs)
								{
								    var list;
								    var log;
								    for (var iIdx = 0; iIdx < objs.length; iIdx++)
								    {

									var obj = objs[iIdx];
									
									if (obj.name == "log")
									{
									    log = obj;
									    
									    obj.setEnabled(false);
									    obj.__text = "";
									    obj.__addLine = function(text) {
										this.__text += text + "\n";
										this.setText (this.__text);
									    }
									}
									
									if (obj.name == "online")
									{
									    list = obj;
									    
									    obj.__addRow = function(src, event) {
										var row = new RadJav.GUI.List.Row ();
										row.addItem (src);
										row.addItem (event);
										this.addRow (row);
									    }
									}
								    }
								    
								    for (var iIdx = 0; iIdx < objs.length; iIdx++)
								    {
									var obj = objs[iIdx];

									var textarea;
									var textbox;

									var radio1;
									var radio2;
									var radio3;
									var checkbox;

									// -------------------------------------------------------------------------------
									if (obj.name == "online")
									{
									    let src = "L1";
									    log.__addLine("Adding handler for " + src);

									    {
										let ename = "rowFocused";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }

									    {
										let ename = "rowClick";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }


									    {
										let ename = "rowRightClick";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }

									    {
										let ename = "rowMiddleClick";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }

									}

									// -------------------------------------------------------------------------------
									if (obj.name == "menubar")
									{
									    let src = "Menu";
									    log.__addLine("Adding handler for " + src);

									    {
										let ename = "menuopen";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									    {
										let ename = "menuclose";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }

									}

									// -------------------------------------------------------------------------------
									if (obj.name == "chatarea")
									{
									    let src = "T1";
									    log.__addLine("Adding handler for " + src);

									    textarea = obj;
									    {
										let ename = "onText";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }

									}

									
									// -------------------------------------------------------------------------------
									if (obj.name == "textbox1")
									{
									    let src = "textbox1";
									    log.__addLine("Adding handler for " + src);


									    {
										let ename = "onText";
										obj.on(ename, (function(obj__)
											       {
												   var handler = function()
												   {
												       this.__target = obj__;
												       
												       list.__addRow(src + ":", ename);
												       log.__addLine(src + ": " + ename + ": " + this.__target.getText());
												   }
												   return handler;
											       })(obj));
									    }

									    
									    {
										let ename = "onTextEnter";
										obj.on(ename, (function(obj__)
											       {
												   var handler = function()
												   {
												       this.__target = obj__;
												       
												       list.__addRow(src + ":", ename);
												       log.__addLine(src + ": ENTERED: q" + this.__target.getText());
												   }
												   return handler;
											       })(obj));
									    }
									}
									
									// -------------------------------------------------------------------------------
									if (obj.name == "clicktest1")
									{
									    let src = "clicktest1";
									    log.__addLine("Adding handler for " + src);
									    
									    {
										let ename = "click";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									    {
										let ename = "middleclick";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									}
									
									// -------------------------------------------------------------------------------
									if (obj.name == "radio1")
									{
									    let src = "radio1";
									    log.__addLine("Adding handler for " + src);
									    
									    radio1 = obj;

									    {
										let ename = "change";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									}
									
									if (obj.name == "radio2")
									{
									    let src = "radio2";
									    log.__addLine("Adding handler for " + src);
									    
									    radio2 = obj;
									    {
										let ename = "change";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									}
									
									if (obj.name == "radio3")
									{
									    let src = "radio3";
									    log.__addLine("Adding handler for " + src);
									    
									    radio3 = obj;
									    {
										let ename = "change";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									}
									
									// -------------------------------------------------------------------------------
									if (obj.name == "container1")
									{
									    let src = "container1";
									    log.__addLine("Adding handler for " + src);

									    //displayMembers(obj._children[0], "Cont1");
									    {
										let ename = "clickk";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									    {
										let ename = "middleclick";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }

									    let srcParent = src;
									    for (var i in obj._children) {
										var obj2 = obj._children[i];
										
										if (obj2.name == "radioA1")
										{
										    let src = "radioA1";
										    log.__addLine("Adding handler for " + srcParent + "." + src);

										    let ename = "change";
										    obj2.on(ename, function()
											    {
												list.__addRow(src + ":", ename);
												log.__addLine(src + ": " + ename);
											    });
										    
										}
										if (obj2.name == "radioA2")
										{
										    let src = "radioA2";
										    log.__addLine("Adding handler for " + srcParent + "." + src);

										    let ename = "change";
										    obj2.on(ename, function()
											    {
												list.__addRow(src + ":", ename);
												log.__addLine(src + ": " + ename);
											    });
										    
										}
									    }
									}

									// -------------------------------------------------------------------------------
									if (obj.name == "radioA1")
									{
									    let src = "radioA1";
									    log.__addLine("Adding handler for " + src);
									    
									    {
										let ename = "change";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									}
									
									if (obj.name == "radioA2")
									{
									    let src = "radioA2";
									    log.__addLine("Adding handler for " + src);
									    
									    {
										let ename = "change";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }
									}
									
									
									
									// -------------------------------------------------------------------------------
									if (obj.name == "checkbox1")
									{
									    checkbox = obj;
									    let src = "checkbox1";
									    log.__addLine("Adding handler for " + src);

									    {
										let ename = "change";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);

											   radio1.setEnabled(checkbox.isChecked());
											   radio2.setEnabled(checkbox.isChecked());
											   radio3.setEnabled(checkbox.isChecked());
										       });
									    }
									}
									
									// -------------------------------------------------------------------------------
									if (obj.name == "combobox1")
									{
									    let src = "combobox1";
									    log.__addLine("Adding handler for " + src);

									    obj.addItem("Add item to bottom");
									    obj.addItem("Remove from top");
									    
									    {
										let ename = "change";
										obj.on(ename, (function(obj__)
											       {
												   var handler = function() {
												       this.__target = obj__;
												       let idx = this.__target.getSelectedItemIndex();

												       list.__addRow(src + ":", ename);
												       log.__addLine(src + ": " + ename + ": " + this.__target.name +
														     " idx: " + idx);
												   }
												   return handler;
											       })(obj));
										    
									    }

									    {
										let ename = "dropdown";
										obj.on(ename, (function(obj__)
											       {
												   var handler = function() {
												       this.__target = obj__;
												       let idx = this.__target.getSelectedItemIndex();

												       list.__addRow(src + ":", ename);
												       log.__addLine(src + ": " + ename + ": " + this.__target.name +
														     " idx: " + idx);
												   }
												   return handler;
											       })(obj));
										    
									    }
									    {
										let ename = "closeup";
										obj.on(ename, (function(obj__)
											       {
												   var handler = function() {
												       this.__target = obj__;
												       let idx = this.__target.getSelectedItemIndex();

												       list.__addRow(src + ":", ename);
												       log.__addLine(src + ": " + ename + ": " + this.__target.name +
														     " idx: " + idx);
												   }
												   return handler;
											       })(obj));
										    
									    }
									    {
										let ename = "text";
										obj.on(ename, (function(obj__)
											       {
												   var handler = function() {
												       this.__target = obj__;
												       let idx = this.__target.getSelectedItemIndex();

												       list.__addRow(src + ":", ename);
												       log.__addLine(src + ": " + ename + ": " + this.__target.name +
														     " idx: " + idx);
												   }
												   return handler;
											       })(obj));
										    
									    }

									    
									    
									}

									// -------------------------------------------------------------------------------
									if (obj.name == "t1label")
									{
									    let src = "t1label";
									    log.__addLine("Adding handler for " + src);

									    {
										let ename = "click";
										obj.on(ename, function()
										       {
											   list.__addRow(src + ":", ename);
											   log.__addLine(src + ": " + ename);
										       });
									    }

									}
									
								    } // End of for
								});
							};

							if (RadJav.OS.HTML5 != null)
							    RadJav.Net.httpRequest ("./test2.json").then (gotData);
							
							else
							{
							    var data = RadJav.IO.TextFile.readEntireFile ("./test2.json");
							    gotData (data);
							}
						    });
			    });
 });
